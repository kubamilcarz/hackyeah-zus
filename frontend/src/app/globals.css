@import "tailwindcss";
@import "../styles/zus-colors.css";
@import "../styles/zus-design-system.css";

:root {
  --background: #ffffff;
  --foreground: #171717;
  
  /* ZUS Brand Colors */
  --zus-yellow: rgb(255, 179, 79);         /* Primary accent color */
  --zus-green: rgb(0, 153, 63);           /* Success, positive actions */
  --zus-gray: rgb(146, 150, 158);         /* Neutral, secondary text */
  --zus-blue: rgb(63, 132, 210);          /* Information, links */
  --zus-navy: rgb(0, 65, 110);            /* Primary brand color */
  --zus-red: rgb(240, 94, 94);            /* Errors, warnings */
  --zus-black: rgb(0, 0, 0);   
  
  /* Semantic color mappings */
  --color-primary: var(--zus-navy);
  --color-secondary: var(--zus-gray);
  --color-accent: var(--zus-blue);
  --color-success: var(--zus-green);
  --color-warning: var(--zus-yellow);
  --color-error: var(--zus-red);
  --color-neutral: var(--zus-gray);
  --color-text: var(--zus-black);
  --color-text-secondary: var(--zus-gray);

  --zus-green-bg: rgb(0, 153, 63, 0.12);    /* Text, high contrast */
  --color-zus-green-bg: rgba(0, 153, 63, 0.12); 
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  
  /* ZUS Brand Colors for Tailwind */
  --color-zus-yellow: var(--zus-yellow);
  --color-zus-green: var(--zus-green);
  --color-zus-gray: var(--zus-gray);
  --color-zus-blue: var(--zus-blue);
  --color-zus-navy: var(--zus-navy);
  --color-zus-red: var(--zus-red);
  --color-zus-black: var(--zus-black);
  
  /* Semantic colors for Tailwind */
  --color-primary: var(--color-primary);
  --color-secondary: var(--color-secondary);
  --color-accent: var(--color-accent);
  --color-success: var(--color-success);
  --color-warning: var(--color-warning);
  --color-error: var(--color-error);
  --color-neutral: var(--color-neutral);

  --zus-green-bg: rgb(0, 153, 63, 0.12); 
  --color-zus-green-bg: rgba(0, 153, 63, 0.12); 
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    
    /* Adjust ZUS colors for dark mode if needed */
    --color-text: #ededed;
    --color-text-secondary: var(--zus-gray);
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Base tokens */
html {
  --color-bg: 250 250 250;       /* light (gray-50) */
  --color-text: 17 24 39;        /* dark (gray-900) */
  --color-accent: 46 106 162;    /* your brand blue */
  --font-scale: 1;
  --color-card: 255 255 255;

  color-scheme: light;
}

/* High contrast: white text on black */
html.hc-white {
  /* override for high contrast */
  --color-bg: 20 20 20;
  --color-text: 255 255 255;
  --color-accent: 255 255 255;
  --color-card: 0 0 0;
}

html.hc-yellow {
  --color-bg: 20 20 20;
  --color-text: 255 216 0;
  --color-accent: 255 216 0;
  --color-card: 0 0 0;
}

/* High contrast button variants */
html.hc-white .zus-btn-primary,
html.hc-yellow .zus-btn-primary {
  background-color: rgb(var(--color-text)) !important;
  color: rgb(var(--color-bg)) !important;
  border: 2px solid rgb(var(--color-text)) !important;
}

html.hc-white .zus-btn-secondary,
html.hc-yellow .zus-btn-secondary {
  background-color: transparent !important;
  color: rgb(var(--color-text)) !important;
  border: 2px solid rgb(var(--color-text)) !important;
}

html.hc-white .zus-btn-ghost,
html.hc-yellow .zus-btn-ghost {
  background-color: transparent !important;
  color: rgb(var(--color-text)) !important;
  border: 1px solid rgb(var(--color-text)) !important;
}

html.hc-white .zus-btn-primary:hover,
html.hc-yellow .zus-btn-primary:hover {
  background-color: rgb(var(--color-bg)) !important;
  color: rgb(var(--color-text)) !important;
}

html.hc-white .zus-btn-secondary:hover,
html.hc-yellow .zus-btn-secondary:hover,
html.hc-white .zus-btn-ghost:hover,
html.hc-yellow .zus-btn-ghost:hover {
  background-color: rgb(var(--color-text) / 0.2) !important;
}
/* Apply background + text */
body {
  background-color: rgb(var(--color-bg));
  color: rgb(var(--color-text));
  font-size: calc(16px * var(--font-scale));
}

/* Utility mappings */
a {
  color: rgb(var(--color-accent));
}

/* Focus outlines */
:focus-visible {
  outline: 3px solid rgb(var(--color-accent));
  outline-offset: 2px;
}

/* If preferring reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0.001ms !important;
    animation-duration: 0.001ms !important;
  }
}

/* Comparison bar high contrast overrides */
html.hc-white .comparison-bar-container {
  background-color: rgb(var(--color-bg)) !important;
  border-color: rgb(var(--color-text) / 0.3) !important;
}

html.hc-yellow .comparison-bar-container {
  background-color: rgb(var(--color-bg)) !important;
  border-color: rgb(var(--color-text) / 0.3) !important;
}

html.hc-white .comparison-bar-soft,
html.hc-yellow .comparison-bar-soft {
  background-color: rgb(var(--color-text) / 0.6) !important;
}

html.hc-white .comparison-bar-neutral,
html.hc-yellow .comparison-bar-neutral {
  background-color: rgb(var(--color-text) / 0.8) !important;
}

html.hc-white .comparison-bar-primary,
html.hc-yellow .comparison-bar-primary {
  background-color: rgb(var(--color-accent)) !important;
}

@layer utilities {
  .bg-zus-bg   { background-color: rgb(var(--color-bg)); }
  .bg-zus-card { background-color: rgb(var(--color-card)); }
  .text-zus-text { color: rgb(var(--color-text)); }
  .text-zus-accent { color: rgb(var(--color-accent)); }
  .border-zus { border-color: rgb(var(--color-text) / 0.2); }
}

/* Ema's Tips styling for all theme variations */
.ema-tip-card {
  background-color: rgb(var(--color-card));
  color: rgb(var(--color-text));
  border-color: rgb(var(--color-text) / 0.2);
  transition: all 0.2s ease;
}

.ema-tip-card:hover {
  border-color: rgb(var(--color-accent) / 0.4);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgb(var(--color-text) / 0.1);
}

.ema-tip-notice {
  background-color: rgb(var(--color-accent) / 0.1);
  border: 1px solid rgb(var(--color-accent) / 0.3);
  color: rgb(var(--color-text));
}

/* Regular light mode specific styles */
html:not(.hc-white):not(.hc-yellow) .ema-tip-notice {
  background-color: rgba(0, 153, 63, 0.1);
  border-color: rgba(0, 153, 63, 0.3);
  color: rgb(0, 153, 63);
}

/* High contrast white theme */
html.hc-white .ema-tip-card {
  background-color: rgb(0, 0, 0);
  color: rgb(255, 255, 255);
  border-color: rgb(255, 255, 255, 0.3);
}

html.hc-white .ema-tip-card:hover {
  border-color: rgb(255, 255, 255, 0.6);
  box-shadow: 0 4px 12px rgb(255, 255, 255, 0.2);
}

html.hc-white .ema-tip-notice {
  background-color: rgb(255, 255, 255, 0.1);
  border-color: rgb(255, 255, 255, 0.3);
  color: rgb(255, 255, 255);
}

/* High contrast yellow theme */
html.hc-yellow .ema-tip-card {
  background-color: rgb(0, 0, 0);
  color: rgb(255, 216, 0);
  border-color: rgb(255, 216, 0, 0.3);
}

html.hc-yellow .ema-tip-card:hover {
  border-color: rgb(255, 216, 0, 0.6);
  box-shadow: 0 4px 12px rgb(255, 216, 0, 0.2);
}

html.hc-yellow .ema-tip-notice {
  background-color: rgb(255, 216, 0, 0.1);
  border-color: rgb(255, 216, 0, 0.3);
  color: rgb(255, 216, 0);
}