{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kubamilcarz/Developer/HackYeah/zus-sim/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo, useState, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport dynamic from \"next/dynamic\";\nimport {\n  ZusCard,\n  ZusCardHeader,\n  ZusCardBody,\n  ZusCardFooter,\n  ZusHeading,\n  ZusText,\n  ZusButton,\n} from \"@/components/zus\"; // adjust path if different\n\n// Lazy load chart to keep TTI low\nconst Bar = dynamic(() => import(\"react-chartjs-2\").then(m => m.Bar), { ssr: false });\nimport {\n  Chart as ChartJS,\n  BarElement,\n  CategoryScale,\n  LinearScale,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nChartJS.register(BarElement, CategoryScale, LinearScale, Tooltip, Legend);\n\nfunction fmtPLN(n: number) {\n  return new Intl.NumberFormat(\"pl-PL\", {\n    style: \"currency\",\n    currency: \"PLN\",\n    maximumFractionDigits: 0,\n  }).format(isFinite(n) ? n : 0);\n}\n\n// placeholders; swap with real data later\nconst ŚREDNIA = 3200;\nconst WYSOKA = 5200;\nconst IKZE_UPLIFT = 0.08;\nconst PPK_UPLIFT = 0.12;\n\nexport default function WelcomeStart() {\n  const router = useRouter();\n\n  const [ikze, setIkze] = useState(false);\n  const [ppk, setPpk] = useState(false);\n  const [value, setValue] = useState<number>(4000);\n\n  // enforce steps of 500 for arrows; allow free typing otherwise\n  const onNumberKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\") {\n        e.preventDefault();\n        setValue(v => {\n          const delta = e.key === \"ArrowUp\" ? 500 : -500;\n          const next = Math.max(0, (v || 0) + delta);\n          return Math.round(next / 500) * 500;\n        });\n      }\n    },\n    []\n  );\n\n  const onNumberChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const raw = e.target.value.replace(/\\s/g, \"\").replace(\",\", \".\");\n    const num = Number(raw);\n    if (Number.isFinite(num)) setValue(num);\n    else setValue(0);\n  }, []);\n\n  const powered = useMemo(() => {\n    let v = value || 0;\n    if (ikze) v += v * IKZE_UPLIFT;\n    if (ppk) v += v * PPK_UPLIFT;\n    return Math.round(v);\n  }, [value, ikze, ppk]);\n\n  const chartData = useMemo(\n    () => ({\n      labels: [\"Średnia\", \"Wysoka\", \"Twoja\"],\n      datasets: [\n        {\n          label: \"Kwota (PLN)\",\n          data: [ŚREDNIA, WYSOKA, value || 0],\n          backgroundColor: [\"#BFC5CE\", \"#3F84D2\", \"#00416E\"], // gray / blue / navy from your palette\n          borderRadius: 8,\n        },\n        ...(ikze || ppk\n          ? [\n              {\n                label: \"Twoja (z IKZE/PPK)\",\n                data: [0, 0, powered],\n                backgroundColor: \"#00993F\", // ZUS green\n                borderRadius: 8,\n              },\n            ]\n          : []),\n      ],\n    }),\n    [value, powered, ikze, ppk]\n  );\n\n  const chartOptions = useMemo(\n    () => ({\n      responsive: true,\n      plugins: {\n        legend: { display: true, labels: { usePointStyle: true } },\n        tooltip: {\n          callbacks: {\n            label: (ctx: any) => `${ctx.dataset.label}: ${fmtPLN(ctx.raw as number)}`,\n          },\n        },\n      },\n      scales: {\n        y: {\n          beginAtZero: true,\n          ticks: { callback: (v: number) => fmtPLN(v) },\n        },\n      },\n    }),\n    []\n  );\n\n  const ciekawostka = useMemo(() => {\n    if ((value || 0) >= 6000)\n      return \"Ciekawostka: Najwyższe świadczenia zwykle łączą długi staż i wyższe składki.\";\n    if ((value || 0) >= 4000)\n      return \"Ciekawostka: Przesunięcie przejścia o 5 lat często znacząco podnosi świadczenie.\";\n    return \"Ciekawostka: Okresy L4 wpływają na podstawę — w symulatorze możesz je uwzględnić.\";\n  }, [value]);\n\n  const isValid = (value || 0) > 0;\n\n  return (\n    <div className=\"max-w-6xl mx-auto py-10\">\n      <ZusCard variant=\"featured\" className=\"p-0\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-0\">\n          {/* LEFT COLUMN */}\n          <div className=\"p-6 md:p-8\">\n            <ZusCardHeader className=\"p-0\">\n              <ZusHeading level={1} className=\"zus-text-h2\">\n                jaka emerytura?\n              </ZusHeading>\n              <ZusText className=\"mt-2 text-neutral-700\">\n                Podaj kwotę, którą chciał(a)byś otrzymywać. Porównamy ją do średniej i „wysokiej”.\n              </ZusText>\n            </ZusCardHeader>\n\n            <ZusCardBody className=\"p-0 mt-6 space-y-5\">\n              {/* Amount field */}\n              <div>\n                <label htmlFor=\"kwota\" className=\"zus-label\">\n                  Docelowa emerytura (PLN)\n                </label>\n                <div className=\"mt-1 flex items-center gap-3\">\n                  {/* native input so we can set step=500 and custom arrows */}\n                  <input\n                    id=\"kwota\"\n                    type=\"number\"\n                    inputMode=\"numeric\"\n                    min={0}\n                    step={500}\n                    value={Number.isFinite(value) ? value : 0}\n                    onChange={onNumberChange}\n                    onKeyDown={onNumberKeyDown}\n                    className=\"zus-input w-56\"\n                    aria-describedby=\"kwota-help\"\n                  />\n                  <span className=\"zus-badge zus-badge-neutral\">{fmtPLN(value || 0)}</span>\n                </div>\n                <p id=\"kwota-help\" className=\"zus-text-small mt-1 text-neutral-600\">\n                  Strzałki ↑/↓ zmieniają kwotę o 500. Wartość może być edytowana ręcznie.\n                </p>\n              </div>\n\n              {/* Checkboxes */}\n              <fieldset>\n                <legend className=\"zus-text-small text-neutral-700\">\n                  Opcjonalnie włącz wpływ oszczędzania:\n                </legend>\n                <div className=\"mt-2 flex flex-col sm:flex-row gap-4\">\n                  <label className=\"inline-flex items-center gap-2\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"zus-checkbox\"\n                      checked={ikze}\n                      onChange={(e) => setIkze(e.target.checked)}\n                      aria-describedby=\"ikze-help\"\n                    />\n                    <span>IKZE</span>\n                  </label>\n                  <label className=\"inline-flex items-center gap-2\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"zus-checkbox\"\n                      checked={ppk}\n                      onChange={(e) => setPpk(e.target.checked)}\n                      aria-describedby=\"ppk-help\"\n                    />\n                    <span>PPK</span>\n                  </label>\n                </div>\n                <div className=\"mt-1 grid gap-1\">\n                  <p id=\"ikze-help\" className=\"zus-text-small text-neutral-600\">\n                    IKZE: przykładowy wzrost {Math.round(IKZE_UPLIFT * 100)}% (poglądowo).\n                  </p>\n                  <p id=\"ppk-help\" className=\"zus-text-small text-neutral-600\">\n                    PPK: przykładowy wzrost {Math.round(PPK_UPLIFT * 100)}% (poglądowo).\n                  </p>\n                </div>\n              </fieldset>\n            </ZusCardBody>\n          </div>\n\n          {/* RIGHT COLUMN */}\n          <div className=\"p-6 md:p-8 border-t md:border-t-0 md:border-l\">\n            <section aria-labelledby=\"chart-title\" className=\"h-full flex flex-col\">\n              <h2 id=\"chart-title\" className=\"zus-text-h4 mb-3\">\n                Wykres: średnia, wysoka i Twoja\n              </h2>\n              <figure aria-describedby=\"chart-desc\" className=\"flex-1\">\n                <div\n                  role=\"img\"\n                  aria-label={`Porównanie: średnia ${fmtPLN(ŚREDNIA)}, wysoka ${fmtPLN(\n                    WYSOKA\n                  )}, Twoja ${fmtPLN(value || 0)}${\n                    ikze || ppk ? `; z IKZE/PPK ${fmtPLN(powered)}` : \"\"\n                  }.`}\n                >\n                  <Bar data={chartData} options={chartOptions} />\n                </div>\n                <figcaption id=\"chart-desc\" className=\"sr-only\">\n                  Słupki pokazują średnią, wysoką oraz Twoją kwotę. IKZE/PPK dodają dodatkowy słupek.\n                </figcaption>\n              </figure>\n            </section>\n          </div>\n\n          {/* BOTTOM ROW (spans both columns) */}\n          <div className=\"md:col-span-2 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 p-6 md:p-8 border-t\">\n            <div className=\"zus-alert zus-alert-info max-w-2xl\">\n              <div className=\"zus-alert-title\">Ciekawostka</div>\n              <p className=\"mt-1\">\n                {(value || 0) >= 6000\n                  ? \"Osoby z najwyższymi świadczeniami zwykle pracowały dłużej i miały dłuższe okresy składkowe.\"\n                  : (value || 0) >= 4000\n                  ? \"Przesunięcie przejścia o 5 lat często istotnie podnosi świadczenie.\"\n                  : \"Okresy L4 też wpływają na podstawę — w symulatorze możesz je uwzględnić.\"}\n              </p>\n            </div>\n\n            <ZusButton\n              variant=\"primary\"\n              size=\"large\"\n              disabled={!isValid}\n              aria-disabled={!isValid}\n              onClick={() => router.push(\"/simulator\")}\n            >\n              kontynuuj\n            </ZusButton>\n          </div>\n        </div>\n      </ZusCard>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}